{% extends "index.html"%}
{% block output_v2 %}

<h1>Calculation Results</h1>


<section>
    <h2>{{exposure}}</h2>
</section>

<section class="container" style="text-align: center;">
    <h2>Spectrum</h2>
    <img src="data:image/png;base64,{{ plot }}" alt="Scatter Plot Image">
</section>


<section class="container" style="text-align: center;">
    <h2>Sample Image</h2>
    <img src="data:image/png;base64,{{ aperture }}" alt="Aperture Plot Image">
</section>



<section class="container" style="text-align: center;">
    <h2>More Details</h2>
    <h3 style="width: 100%; font-weight: 300"> The field of view area is {{fov}} arcseconds</h3>
    <h3 style="width: 100%; font-weight: 300"> The sensor reports {{counts}} counts per second from the source</h3>
    <h3 style="width: 100%; font-weight: 300"> The peak number of counts in the simulated image is {{peak}} </h3>
    <h3 style="width: 100%; font-weight: 300"> The minimum number of counts in the simulated image is {{minimum}} </h3>
</section>



<section class="container" style="text-align: center;">

    <h2>Submitted Parameters</h2>
    <table style="text-align: center;">
        <thead>
            <tr>
                <th class="col-md-2">Parameter</th>
                <th class="col-md-2">Value</th>
                <th class="col-md-2">Parameter</th>
                <th class="col-md-2">Value</th>
            </tr>
        </thead>


      
        {% for i in range( col1a|length ) %}
           
        <tr>
            <td class="col-md-2">{{ col1a[i] }}</td>
            <td class="col-md-2">{{ col1b[i] }}</td>
            <td class="col-md-2">{{ col2a[i] }}</td>
            <td class="col-md-2">{{ col2b[i] }}</td>
        </tr>


        {% endfor %}

    
    </table>

</section>


<!-- download and reset buttons -->
<section class="container" style="text-align: center;">
    <input type="submit" onclick="prepare()" value="Download" style="background-color:darkgoldenrod">

    <script>
        function prepare() {
            for (i = 0; i < document.styleSheets.length; i++) {
                void(document.styleSheets.item(i).disabled=true);
            }
            setTimeout(() => {  window.print(); }, 500);               

            setTimeout(() => {  
                for (i = 0; i < document.styleSheets.length; i++) {
                    void(document.styleSheets.item(i).disabled=false);
                }
             }, 500)
        }
    </script>

    <form class="button" id="clear_all" method = "GET", action="">
        <input type="submit" value="Reset" style="background-color: maroon">
    </form>
    
</section>

{% endblock output_v2 %}